var framePtr=null,excHandler=0,lastJSError=null,NTI33554435={size:0,kind:31,base:null,node:null,finalizer:null},NTI939524165={size:0,kind:18,base:null,node:null,finalizer:null},NTI134217745={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217749={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217751={size:0,kind:17,base:null,node:null,finalizer:null},NTI33555173={size:0,kind:17,base:null,node:null,finalizer:null},NTI33555181={size:0,kind:22,base:null,node:null,finalizer:null},NTI33554449=
{size:0,kind:28,base:null,node:null,finalizer:null},NTI33554450={size:0,kind:29,base:null,node:null,finalizer:null},NTI33555180={size:0,kind:22,base:null,node:null,finalizer:null},NTI33555177={size:0,kind:17,base:null,node:null,finalizer:null},NTI33555178={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217741={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217743={size:0,kind:17,base:null,node:null,finalizer:null},NNI134217743={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};
NTI134217743.node=NNI134217743;var NNI134217741={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217741.node=NNI134217741;var NNI33555178={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI33555178.node=NNI33555178;NTI33555180.base=NTI33555177;NTI33555181.base=NTI33555177;
var NNI33555177={kind:2,len:5,offset:0,typ:null,name:null,sons:[{kind:1,offset:"parent",len:0,typ:NTI33555180,name:"parent",sons:null},{kind:1,offset:"name",len:0,typ:NTI33554450,name:"name",sons:null},{kind:1,offset:"message",len:0,typ:NTI33554449,name:"msg",sons:null},{kind:1,offset:"trace",len:0,typ:NTI33554449,name:"trace",sons:null},{kind:1,offset:"up",len:0,typ:NTI33555181,name:"up",sons:null}]};NTI33555177.node=NNI33555177;var NNI33555173={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};
NTI33555173.node=NNI33555173;NTI33555177.base=NTI33555173;NTI33555178.base=NTI33555177;NTI134217741.base=NTI33555178;NTI134217743.base=NTI134217741;var NNI134217751={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217751.node=NNI134217751;NTI134217751.base=NTI33555178;var NNI134217749={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217749.node=NNI134217749;NTI134217749.base=NTI33555178;var NNI134217745={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217745.node=NNI134217745;
NTI134217745.base=NTI33555178;var NNI939524165={kind:2,len:2,offset:0,typ:null,name:null,sons:[{kind:1,offset:"a",len:0,typ:NTI33554435,name:"a",sons:null},{kind:1,offset:"b",len:0,typ:NTI33554435,name:"b",sons:null}]};NTI939524165.node=NNI939524165;function mnewString(a){for(var b=Array(a),c=0;c<a;c++)b[c]=0;return b}
function toJSStr(a){var b=newSeq_33556919(a.length),c=0,d=0;b:for(;;){if(!(c<a.length))break b;var e=a[c];if(128>e)b[d]=String.fromCharCode(e),c+=1;else{var f=newSeq_33556919(0);c:for(;;){e=e.toString(16);1==(null==e?0:e.length)?f.push("%0"):f.push("%");f.push(e);c+=1;if(a.length<=c||128>a[c])break c;e=a[c]}++excHandler;try{b[d]=decodeURIComponent(f.join("")),--excHandler}catch(h){e=lastJSError,lastJSError=h,--excHandler,b[d]=f.join(""),lastJSError=e}finally{}}d+=1}if(b.length<d)for(a=b.length;a<
d;++a)b.push(null);else b.length=d;return b.join("")}function raiseException(a,b){a.name=b;0==excHandler&&unhandledException(a);throw a;}function addInt(a,b){a+=b;checkOverflowInt(a);return a}function chckRange(a,b,c){var d=0;b<=a&&a<=c?d=a:raiseRangeError();return d}function setConstr(){for(var a={},b=0;b<arguments.length;++b){var c=arguments[b];if("object"==typeof c)for(var d=c[0];d<=c[1];++d)a[d]=!0;else a[c]=!0}return a}var ConstSet1=setConstr(17,16,4,18,27,19,23,22,21);
function nimCopy(a,b,c){var d=null;switch(c.kind){case 21:case 22:case 23:case 5:d=isFatPointer_33557259(c)?[b[0],b[1]]:b;break;case 19:if(null===a||void 0===a)a={};else for(var e in a)delete a[e];for(e in b)a[e]=b[e];d=a;break;case 18:case 17:d=null!=c.base?nimCopy(a,b,c.base):17==c.kind?null===a||void 0===a?{m_type:c}:a:null===a||void 0===a?{}:a;nimCopyAux(d,b,c.node);break;case 4:case 16:if(ArrayBuffer.isView(b))null===a||void 0===a||a.length!=b.length?a=new b.constructor(b):a.set(b,0),d=a;else if(null===
b)d=null;else{if(null===a||void 0===a||a.length!=b.length)a=Array(b.length);d=a;for(a=0;a<b.length;++a)d[a]=nimCopy(d[a],b[a],c.base)}break;case 24:case 27:if(null===b)d=null;else{if(null===a||void 0===a||a.length!=b.length)a=Array(b.length);d=a;for(a=0;a<b.length;++a)d[a]=nimCopy(d[a],b[a],c.base)}break;case 28:null!==b&&(d=b.slice(0));break;default:d=b}return d}function chckIndx(a,b,c){var d=0;b<=a&&a<=c?d=a:raiseIndexError(a,b,c);return d}
function subInt(a,b){a-=b;checkOverflowInt(a);return a}function makeNimstrLit(a){for(var b=[],c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b}function cstrToNimstr(a){for(var b=a.length,c=Array(b),d=0,e=0;e<b;++e){var f=a.charCodeAt(e);128>f?c[d]=f:(2048>f?c[d]=f>>6|192:(55296>f||57344<=f?c[d]=f>>12|224:(++e,f=65536+((f&1023)<<10|a.charCodeAt(e)&1023),c[d]=f>>18|240,++d,c[d]=f>>12&63|128),++d,c[d]=f>>6&63|128),++d,c[d]=f&63|128);++d}return c}var objectID_838860977=[0];
function eventElement_704643180(a){return a.internalElm.childNodes[1]}function textHEX3D_704643189(a,b,c){eventElement_704643180(a[b]).value=c}function settext(a,b,c){textHEX3D_704643189(a,b,c)}
function newQuill_704643098(a,b){var c=document.createElement("div");c.className="quill";document.documentElement.setAttribute("style","--quill-height: "+b);b=document.createElement("textarea");b.className="quill-sizing quill-invis";b.setAttribute("spellcheck","false");var d=document.createElement("pre");d.className="quill-sizing quill-text";d.appendChild(document.createElement("span"));var e=document.createElement("div");e.className="quill-wrap";c.appendChild(d);c.appendChild(b);e.appendChild(c);
a.appendChild(e);a={internalElm:c,sectors:[0],plen:0,onDraw:null,current:0};return a}function newQuill(a,b){return newQuill_704643098(a,b)}function element_704643177(a){return a.internalElm}function element(a){return element_704643177(a)}function eventElement(a){return eventElement_704643180(a)}function visualElement_704643183(a){return a.internalElm.childNodes[0]}function visualElement(a){return visualElement_704643183(a)}function text_704643186(a){return eventElement_704643180(a).value}
function add_33556373(a,b,c){null===a[b]&&(a[b]=[]);var d=a[b].length;a[b].length+=c.length;for(var e=0;e<c.length;++e)a[b][d+e]=c.charCodeAt(e)}function newSeq_33556919(a){var b=Array(a);for(var c=0;c<a;++c)b[c]=null;return b}
function unhandledException(a){var b=[[]];0!=a.message.length?(b[0].push.apply(b[0],[69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110,58,32]),b[0].push.apply(b[0],a.message)):b[0].push.apply(b[0],[69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110]);b[0].push.apply(b[0],[32,91]);add_33556373(b,0,a.name);b[0].push.apply(b[0],[93,10]);a=toJSStr(b[0]);if("undefined"!==typeof Error)throw Error(a);throw a;}
function raiseOverflow(){raiseException({message:[111,118,101,114,45,32,111,114,32,117,110,100,101,114,102,108,111,119],parent:null,m_type:NTI134217743,name:null,trace:[],up:null},"OverflowDefect")}function checkOverflowInt(a){(2147483647<a||-2147483648>a)&&raiseOverflow()}function raiseRangeError(){raiseException({message:[118,97,108,117,101,32,111,117,116,32,111,102,32,114,97,110,103,101],parent:null,m_type:NTI134217751,name:null,trace:[],up:null},"RangeDefect")}
function isFatPointer_33557259(a){a=void 0==ConstSet1[a.base.kind];return a}function nimCopyAux(a,b,c){switch(c.kind){case 1:a[c.offset]=nimCopy(a[c.offset],b[c.offset],c.typ);break;case 2:for(var d=0;d<c.sons.length;d++)nimCopyAux(a,b,c.sons[d]);break;case 3:for(a[c.offset]=nimCopy(a[c.offset],b[c.offset],c.typ),d=0;d<c.sons.length;++d)nimCopyAux(a,b,c.sons[d][1])}}
function raiseIndexError(a,b,c){a=c<b?[105,110,100,101,120,32,111,117,116,32,111,102,32,98,111,117,110,100,115,44,32,116,104,101,32,99,111,110,116,97,105,110,101,114,32,105,115,32,101,109,112,116,121]:[105,110,100,101,120,32].concat(HEX24_385875976(a)||[],[32,110,111,116,32,105,110,32],HEX24_385875976(b)||[],[32,46,46,32],HEX24_385875976(c)||[]);raiseException({message:nimCopy(null,a,NTI33554449),parent:null,m_type:NTI134217749,name:null,trace:[],up:null},"IndexDefect")}
function addChars_301990090(a,b,c,d,e){var f,h=a[b].length;if(a[b].length<(f=chckRange(addInt(h,e),0,2147483647),f))for(var g=a[b].length;g<f;++g)a[b].push(0);else a[b].length=f;g=0;c:for(;;){if(!(g<e))break c;f=g;a[b][chckIndx(addInt(h,f),0,a[b].length-1)]=c.charCodeAt(chckIndx(addInt(d,f),0,c.length-1));g=addInt(g,1)}}function addChars_301990086(a,b,c){addChars_301990090(a,b,c,0,null==c?0:c.length)}function addInt_301990111(a,b,c){addChars_301990086(a,b,c+"")}
function addInt_301990129(a,b,c){addInt_301990111(a,b,BigInt(c))}function HEX24_385875976(a){var b=[[]];addInt_301990129(b,0,a);return b[0]}function newSeq_704643217(a){var b=Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function delete_704643298(a,b,c){a[b].splice(c,1)}function sysFatal_268435501(a){raiseException({message:nimCopy(null,a,NTI33554449),m_type:NTI134217745,parent:null,name:null,trace:[],up:null},"AssertionDefect")}function raiseAssert_268435499(a){sysFatal_268435501(a)}
function failedAssertImpl_268435541(a){raiseAssert_268435499(a)}function HEX5BHEX5D_704643367(a,b){var c=b.a,d=addInt(subInt(b.b,c),1);b=nimCopy(null,mnewString(chckRange(d,0,2147483647)),NTI33554449);var e=0;c:for(;;){if(!(e<d))break c;var f=e;b[chckIndx(f,0,b.length-1)]=a[chckIndx(addInt(f,c),0,a.length-1)];e=addInt(e,1)}return b}function HEX5BHEX5D_704643351(a,b){return toJSStr(HEX5BHEX5D_704643367(cstrToNimstr(a),b))}
function HEX2EHEX2E_704643324(a,b){var c={a:0,b:0};return c=nimCopy(c,{a,b},NTI939524165)}
function quillInputHandle_704643192(a,b){var c=text_704643186(a[b]);eventElement_704643180(a[b]).setAttribute("style",toJSStr([109,105,110,45,104,101,105,103,104,116,58,32].concat(HEX24_385875976(addInt(visualElement_704643183(a[b]).scrollHeight,20))||[],[112,120,59,32,109,105,110,45,119,105,100,116,104,58,32],HEX24_385875976(addInt(visualElement_704643183(a[b]).scrollWidth,20))||[],[112,120,59])));var d=eventElement_704643180(a[b]).selectionStart,e=-1;if(0<a[b].sectors.length)a:b:for(;;){if(!(a[b].sectors[chckIndx(addInt(e,
1),0,a[b].sectors.length-1)]<=d))break b;e=addInt(e,1);if(e==a[b].sectors.length-1)break a}d=subInt(null==c?0:c.length,a[b].plen);var f=a[b].sectors[chckIndx(e,0,a[b].sectors.length-1)],h=newSeq_704643217(0);if(e<a[b].sectors.length-1){var g=addInt(e,1);var m=a[b].sectors.length-1;var k=g;c:for(;;){if(!(k<=m))break c;g=k;a[b].sectors[chckIndx(g,0,a[b].sectors.length-1)]=addInt(a[b].sectors[chckIndx(g,0,a[b].sectors.length-1)],d);if((a[b].sectors[chckIndx(g,0,a[b].sectors.length-1)]<=f||(null==c?0:
c.length)<=a[b].sectors[chckIndx(g,0,a[b].sectors.length-1)])&&1<a[b].sectors.length){var l=visualElement_704643183(a[b]).childNodes[g];void 0!==l&&visualElement_704643183(a[b]).removeChild(l);h.push(g)}k=addInt(k,1)}}k=0;l=h.length;c:for(;;){if(!(k<l))break c;m=k;g=h[chckIndx(k,0,h.length-1)];delete_704643298(a[b],"sectors",chckRange(subInt(g,m),0,2147483647));k=addInt(k,1);h.length!=l&&failedAssertImpl_268435541(makeNimstrLit("iterators.nim(179, 11) `len(a) == L` the length of the seq changed while iterating over it"))}a[b].current=
e;a[b].plen=null==c?0:c.length;e=e<a[b].sectors.length-1?subInt(a[b].sectors[chckIndx(addInt(e,1),0,a[b].sectors.length-1)],1):null==c?-1:c.length-1;a[b].onDraw(a,b,HEX5BHEX5D_704643351(c,HEX2EHEX2E_704643324(f,e)),0>d)}function init_704643399(a,b){eventElement_704643180(a[b]).addEventListener("input",function(c){quillInputHandle_704643192(a,b)},!1);a[b].onDraw(a,b,text_704643186(a[b]),!1)}function init(a,b){init_704643399(a,b)}function text(a){return text_704643186(a)}
function HEX5BHEX5DHEX3D_1107296323(a,b,c){a.replaceChild(c,a.childNodes[b])}function draw_704643421(a,b,c){HEX5BHEX5DHEX3D_1107296323(visualElement_704643183(a[b]),a[b].current,c)}function draw(a,b,c){draw_704643421(a,b,c)}function HEX5BHEX5D_704643427(a,b){b=chckIndx(subInt(a.length,b),0,a.length-1);return[a,b]}
function enter_704643424(a,b,c){var d;a[b].sectors.push(addInt((d=HEX5BHEX5D_704643427(a[b].sectors,1),d)[0][d[1]],c));visualElement_704643183(a[b]).appendChild(document.createElement("span"));quillInputHandle_704643192(a,b)}function enter(a,b,c){enter_704643424(a,b,c)}
class Quill{constructor(a){this.core=newQuill(a)}init(){return init(this.core)}draw(a){return draw(this.core,a)}enter(a){return enter(this.core,a)}get element(){return element(this.core)}get eventElement(){return eventElement(this.core)}get visualElement(){return visualElement(this.core)}get text(){return text(this.core)}set text(a){settext(this.core,a)}};
